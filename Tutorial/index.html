<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Project documentation for CWatM implementation in SpineToolbox"><meta name=author content="VTT DOES Team"><link href=https://jeanlouisnico.github.io/CWatM-spinetoolbox/Tutorial/ rel=canonical><link href=../navigating/ rel=prev><link href=../setting_calibration/ rel=next><link rel=icon href=../images/flex_cwatm_logo.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.21"><title>Running standalone version - FlexTool - CWatM</title><link rel=stylesheet href=../assets/stylesheets/main.2a3383ac.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#running-standalone-version class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=https://jeanlouisnico.github.io/CWatM-spinetoolbox/ title="FlexTool - CWatM" class="md-header__button md-logo" aria-label="FlexTool - CWatM" data-md-component=logo> <img src=../images/flex_cwatm_logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> FlexTool - CWatM </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Running standalone version </span> </div> </div> </div> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/jeanlouisnico/CWatM-spinetoolbox title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> jeanlouisnico/CWatM-spinetoolbox </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://jeanlouisnico.github.io/CWatM-spinetoolbox/ title="FlexTool - CWatM" class="md-nav__button md-logo" aria-label="FlexTool - CWatM" data-md-component=logo> <img src=../images/flex_cwatm_logo.png alt=logo> </a> FlexTool - CWatM </label> <div class=md-nav__source> <a href=https://github.com/jeanlouisnico/CWatM-spinetoolbox title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> jeanlouisnico/CWatM-spinetoolbox </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> About us </span> </a> </li> <li class=md-nav__item> <a href=../introduction/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Getting started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../getting_started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../navigating/ class=md-nav__link> <span class=md-ellipsis> Navigating the workflow </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Running standalone version </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Running standalone version </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#new-database class=md-nav__link> <span class=md-ellipsis> New Database </span> </a> <nav class=md-nav aria-label="New Database"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#setting-the-database class=md-nav__link> <span class=md-ellipsis> Setting the database </span> </a> </li> <li class=md-nav__item> <a href=#populating-the-database class=md-nav__link> <span class=md-ellipsis> Populating the database </span> </a> <nav class=md-nav aria-label="Populating the database"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#method-1-import-an-existing-database class=md-nav__link> <span class=md-ellipsis> Method 1: Import an existing database </span> </a> </li> <li class=md-nav__item> <a href=#method-2-import-from-cwatm-ini-file class=md-nav__link> <span class=md-ellipsis> Method 2: Import from CWatM ini file </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fix-the-database-for-toolbox class=md-nav__link> <span class=md-ellipsis> Fix the database for Toolbox </span> </a> <nav class=md-nav aria-label="Fix the database for Toolbox"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#other-changes class=md-nav__link> <span class=md-ellipsis> Other changes </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#relink-cwatm class=md-nav__link> <span class=md-ellipsis> Relink CWatM </span> </a> </li> <li class=md-nav__item> <a href=#prepare-a-scenario class=md-nav__link> <span class=md-ellipsis> Prepare a scenario </span> </a> </li> <li class=md-nav__item> <a href=#running-cwatm-as-a-standalone-version class=md-nav__link> <span class=md-ellipsis> Running CWatM as a standalone version </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../setting_calibration/ class=md-nav__link> <span class=md-ellipsis> Setup for calibration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../example_models/ class=md-nav__link> <span class=md-ellipsis> Coupling </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#new-database class=md-nav__link> <span class=md-ellipsis> New Database </span> </a> <nav class=md-nav aria-label="New Database"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#setting-the-database class=md-nav__link> <span class=md-ellipsis> Setting the database </span> </a> </li> <li class=md-nav__item> <a href=#populating-the-database class=md-nav__link> <span class=md-ellipsis> Populating the database </span> </a> <nav class=md-nav aria-label="Populating the database"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#method-1-import-an-existing-database class=md-nav__link> <span class=md-ellipsis> Method 1: Import an existing database </span> </a> </li> <li class=md-nav__item> <a href=#method-2-import-from-cwatm-ini-file class=md-nav__link> <span class=md-ellipsis> Method 2: Import from CWatM ini file </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fix-the-database-for-toolbox class=md-nav__link> <span class=md-ellipsis> Fix the database for Toolbox </span> </a> <nav class=md-nav aria-label="Fix the database for Toolbox"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#other-changes class=md-nav__link> <span class=md-ellipsis> Other changes </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#relink-cwatm class=md-nav__link> <span class=md-ellipsis> Relink CWatM </span> </a> </li> <li class=md-nav__item> <a href=#prepare-a-scenario class=md-nav__link> <span class=md-ellipsis> Prepare a scenario </span> </a> </li> <li class=md-nav__item> <a href=#running-cwatm-as-a-standalone-version class=md-nav__link> <span class=md-ellipsis> Running CWatM as a standalone version </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <div><h1 id=running-standalone-version>Running standalone version<a class=headerlink href=#running-standalone-version title="Permanent link">¶</a></h1> <p>Let's setup an instance of SpineToolbox (hereafter <strong>Toolbox</strong>) by creating an empty database, importing the initial init file provided by the example of CWatM. We will then import the calibration file. We will then see how to create alternatives to the base init file or import a new initial file from CWatM. Finally, we will to calibration run, running CWatM as a standalone model and running CWatM model as model coupling with an energy system model.</p> <p><img alt=cwatm_integration src=../images/cwatm_integration.png></p> <h2 id=new-database>New Database<a class=headerlink href=#new-database title="Permanent link">¶</a></h2> <h3 id=setting-the-database>Setting the database<a class=headerlink href=#setting-the-database title="Permanent link">¶</a></h3> <p>Before starting setting up a totally new workflow, <strong>Toolbox</strong> requires to be linked to a database. In this particular case we are using .<em>sqlite</em>, but one can choose between <em>sqlite</em> and <em>mysql</em>. Create a new database by first selecting the data store <img alt=databaseicon src=../images/db_icon_small.png>. This will display the <em>Data Store Properties</em> (DSP). From the DSP, click the <em>New Spine db</em> button to save your database in your environment.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>Good practices would be that the new database is saved under .spinetoolbox\Data\</p> </div> <p>You will then need to:</p> <ul> <li>Edit the path of the database in the following data store (copy/paste the relative path or select the file from the file icon <img alt=fileicon src=../images/file_icon.png>)</li> <li><em>Data Store</em></li> <li><em>data_store_loop</em></li> <li><em>best_calib</em></li> </ul> <p>This step will create an empty database with one alternative called <em>Base</em>. This alternative will be empty and we can now start populating the data from 1. a data structure that can be imported into the database or 2. a n existing CWatM **.ini* file into the database. </p> <h3 id=populating-the-database>Populating the database<a class=headerlink href=#populating-the-database title="Permanent link">¶</a></h3> <h4 id=method-1-import-an-existing-database>Method 1: Import an existing database<a class=headerlink href=#method-1-import-an-existing-database title="Permanent link">¶</a></h4> <p>This method is the easiest if you are starting with a new CWatM project. <a href=../.spinetoolbox/Data/basic_model.json>Download</a> (right-click and save the file) the .json document that will parse the database with the CWatM 30 min examples with already pre-defined alternatives and scenario (for a single run of CWatM and calibration). This database has more parameters already defined from other CWatM projects (i.e. 5-arcmin). </p> <p>This method is the most convenient and should be done anyway as parameters are declared properly. one could then import an existing ini file into this database later on.</p> <h4 id=method-2-import-from-cwatm-ini-file>Method 2: Import from CWatM ini file<a class=headerlink href=#method-2-import-from-cwatm-ini-file title="Permanent link">¶</a></h4> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>This section refers to the <a href=../navigating/#3-import-cwatm-ini-files>import ini file section</a> part of the workflow</p> </div> <p>The best way to start importing existing ini file within <strong>Toolbox</strong> is to take one of the CWatM setting files for the 30 arcmin or 5 arcmin. In this example we will populate the 5 arcmin setting files but this setup can be done with the 30 arcmin as well.</p> <p>First, select the data connection box <img alt=input_setting_file_icon_small src=../images/input_setting_file_icon_small.png>that will link the ini file to <strong>Toolbox</strong>. This will display the Data Connection Properties (DCP) window on the right-hand side. In case a filepath is already present in the File paths field, adding a new file will be made in addition to the current file path. One can safely remove the link by right cliking the filepath and click <em>remove reference(s)</em> or click the - button<img alt=minus_icon src=../images/minus_icon.png> while having the filepath selected. By clicking the + icon <img alt=plus_icon src=../images/plus_icon.png>you can select the ini setting file.</p> <p>As mentioned earlier, if a tool is marked with an exclamation mark <img alt=❗ class=twemoji src=https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2757.svg title=:exclamation:>, this means that there is a problem in the workflow. By changing the reference setting file, this will most likely be triggered in the following step but can easily be corrected.</p> <p>The next step is to ensure that the file is considered in the workflow. Select the <em>convert_to_valid_toml</em> tool and it will display its Tool Properties window on the right hand side. If the name of the file from the Tool arguments exist in the Available resources listed in the tool, then this is all good and the tool is configured correctly. In case the tool arguments is displayed in red, this means that the file is not available in the Available resources. It usually happens if the file in the data connection is changed (see previous step). Simply drag and drop the file from the Available resources to the Tool arguments, then remove the link displayed in red by selecting the argument and click the - button <img alt=minus_icon src=../images/minus_icon.png>.</p> <p><img alt=tool_properties_convertion src=../images/tool_properties_convertion.png></p> <p>The second tool <em>parse_toml</em> is very important and the end-user wants to put attention into the arguments that are passed to the tool. Since there can be multiple <em>ini</em> files that are imported into the <em>Spine Database</em>, each variable should be loaded into a different <strong>alternative</strong>. If the <strong>alternative</strong> name is not changed, it will overwrite the previously imported <em>ini</em> file.</p> <p><img alt=wf3 src=../images/import_ini.png></p> <p>The second argument <img alt=1⃣ class=twemoji src=https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/31-20e3.svg title=:one:>: is the name of the <em>alternative</em> where the ini file <em>parameters</em> will be imported in, in this tutorial we will name it <em>5_arcmin_base</em>. The <img alt=2⃣ class=twemoji src=https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/32-20e3.svg title=:two:> argument should not be touched and left as is. This is to tell the importer that we are importing a cwatm ini file. The <img alt=3⃣ class=twemoji src=https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/33-20e3.svg title=:three:> argument define that it will update the values and should be always set to <em>true</em> if you want to update the existing alternative, if not set it to <em>false</em>. Select the 3 tool together and run only the selection <img alt=selection_run_icon src=../images/selection_run_icon.png>. Running only this section will import your CWatM <em>ini</em> file into the Spine Database.</p> <p>This will import 2 alternatives, the first one being the CWatM core ini file, and another one named <your alternative>_output, which allocate the outputs in a separate alternative. This is to better use the structure of the data with the calibration runs.</your></p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>In case you have multiple <em>ini</em> file that you want to import, repeat these steps as many times as necessary. You can try this out by duplicating the original setting file and change some values in it. Relink the file in the workflow as explained in this section but allocate it to a different alternative. It will create a new alternative and import only the variables that differ from the base database that we first imported into the database.</p> </div> <h3 id=fix-the-database-for-toolbox>Fix the database for Toolbox<a class=headerlink href=#fix-the-database-for-toolbox title="Permanent link">¶</a></h3> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>This section refers to the <a href=../navigating/#4-the-spine-database>database section</a> part of the workflow</p> </div> <p>The <strong>Toolbox</strong> database will be displaying exactly what was in the ini file originally. Therefore, the path to weather files and others should be correct. However, if the setting file was imported as is, the path filepaths need to be updated.</p> <p>The most important one is the <strong><em>PathRoot</em></strong> parameter_name in the FILE_PATHS entity. Locate where the input files were saved on the machine. Other filepaths that needs attention are: <strong>FILE_PATHS\PathMeteo</strong>, and if necessary the <strong>FILE_PATHS\Excel_settings_file parameter_names</strong>.</p> <p>The last parameter that requires to be changed is due to the use of Toolbox, this is the output folder location FILE_PATHS\PathOut. </p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>If you have first imported the CWatM database from the json file, the output database alternative already exists. Either change the alternative name for the output variables or simply delete the parameters.</p> </div> <p>One of the feature of running CWatM with Toolbox is that you can run all your scenarios in parallel. These parallelisation of the runs is automatically handled by Toolbox. However, since CWatM is writing outputs after every loop, the output folder will need to be defined relative to the path of the scenario. Simply replace the string in the <strong>FILE_PATHS\PathOut</strong> to <code>./output</code>. Toolbox will then create an output folder for every scenario and will avoid reading and writing to the same output files.</p> <h4 id=other-changes>Other changes<a class=headerlink href=#other-changes title="Permanent link">¶</a></h4> <p>Cold and Warm starts are possible in CWatM. The settings are located under the entity class INITITIAL CONDITIONS. The parameter <strong>initLoad</strong> and <strong>initSave</strong> should be modified similarly to the output folder and making it relative path to the project e.g. <em>./init/<filename></filename></em> and similarly initLoad should resemble the same pattern <em>./init/<filename>.nc</filename></em></p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>After every modification of the database, it needs to be commited by ctrl+enter or click the icon commit </p> </div> <h2 id=relink-cwatm>Relink CWatM<a class=headerlink href=#relink-cwatm title="Permanent link">¶</a></h2> <p>The CWatM tool is linked by default to be under the current repository. Often, people will have their own CWatM copy and therefore there a need to relink the CWatM module. This is because when cloning/forking this workflow, <strong>Toolbox</strong> assumes that the tool comes along with it but we do not want to ship CWatM alongside this workflow but rather link to a self-contained CWatM model (whether you are developing it or just using it). In order to do perform the relink, you need to open any CWatM tool e.g.</p> <p><img alt=cwatm_tool src=images/CWatM_Tool.png style=zoom:33%;></p> <p>By double clicking the icon, you will see the files that are included in the tool.</p> <p><img alt=relink_tool src=../images/relink_cwatm.png></p> <p>The main programme <img alt=1⃣ class=twemoji src=https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/31-20e3.svg title=:one:> needs to be updated first and then all the other programmes. While the main programme is selected, open the white folder <img alt=2⃣ class=twemoji src=https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/32-20e3.svg title=:two:>and locate the CWatM folder locally, and select the <em>toolbox_compatibility.py</em> file. For the files in <img alt=4⃣ class=twemoji src=https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/34-20e3.svg title=:four:>, open the white folder and multi-select each of the three python scripts, then select the black folder in <img alt=3⃣ class=twemoji src=https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/33-20e3.svg title=:three:> to relink all the files from the <em>cwatm</em> and the <em>mf6</em> folders. Save your work and you can close the window.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>There are two ways to relink files, either relink a single file by using the white folder icon <img alt=whitefolder src=../images/white_folder.png>, or relink all the files in a folder by using the black folder icon <img alt=blackfolder src=../images/black_folder.png></p> </div> <h2 id=prepare-a-scenario>Prepare a scenario<a class=headerlink href=#prepare-a-scenario title="Permanent link">¶</a></h2> <p>When we imported the data from the original ini file from CWatM to the database, we have created an alternative called <em>5_arcmin_base</em>. Toolbox can run either a specific alternative or scenario, which is a combination of multiple alternatives. Running scenario is the preferred way to run the data flow to keep consistency between all model runs. From the database, there is a list of scenario that user can create on the right-hand side.</p> <p><img alt=empty_scenario src=../images/empty_scenario.png></p> <p>Select an empty scenario and input a name for a scenario e.g. <em>5_arc_min</em>. </p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>For differentiating alternative and scenario names, it is good practice to change the name that it is clearer when you are using the workflow what you are using, an alternative or a scenario setup.</p> </div> <p><img alt=scenario_creation src=../images/scenario_creation.png></p> <p>You can now drag and drop alternatives to a specific scenario. There are no limitations to how many alternatives are allocated to a scenario, however, one must be careful in which order they are listed in the scenario. <strong>Toolbox</strong> handles the data allocations based on the order the alternatives were set in the scenario. In essence, Toolbox will take all the values from the first alternative, then take the values from the n<sup>th</sup> alternative to either replace the values or supplement the data with new data if it was not present in the previous alternative.</p> <p><img alt=drag_atlernative src=../images/drag_atlernative.png></p> <p>This is the reason it is recommended to have a <em>Base</em> alternative that the modeller can always refer to and alter with other alternatives when necessary.</p> <p><img alt=scenario_set src=../images/scenario_set.png></p> <p>By default, the 5_arc_min scenario will be selected into the workflow. If you happen to create more scenarios (by combining multiple alternatives) and want to run only specific scenario, you can select the scenario run by selecting the yellow arrow in the workflow.</p> <h2 id=running-cwatm-as-a-standalone-version>Running CWatM as a standalone version<a class=headerlink href=#running-cwatm-as-a-standalone-version title="Permanent link">¶</a></h2> <p>With these settings, the database can be modified (adding alternatives and scenario) and can run CWatM as a standalone application. </p> <p>Select the two tools in <a href=../navigating/#6-run-cwatm-as-a-standalone-process>standalone workflow</a>, and run the select button <img alt=selection_run_icon src=../images/selection_run_icon.png>. This will run the scenario </p></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 - 2024 VTT - Design and Operation of Energy Systems </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.f55a23d4.min.js></script> </body> </html>